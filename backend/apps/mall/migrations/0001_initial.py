# Generated by Django 4.0.5 on 2022-07-28 23:17

from django.conf import settings
from django.db import migrations, models
import django.db.models.deletion
import utils.models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name='GoodsBrand',
            fields=[
                ('id', models.CharField(default=utils.models.make_uuid, help_text='Id', max_length=100, primary_key=True, serialize=False, verbose_name='Id')),
                ('description', models.CharField(blank=True, help_text='描述', max_length=100, null=True, verbose_name='描述')),
                ('modifier', models.CharField(blank=True, help_text='修改人', max_length=100, null=True, verbose_name='修改人')),
                ('dept_belong_id', models.CharField(blank=True, help_text='数据归属部门', max_length=100, null=True, verbose_name='数据归属部门')),
                ('update_datetime', models.DateTimeField(auto_now=True, help_text='修改时间', null=True, verbose_name='修改时间')),
                ('create_datetime', models.DateTimeField(auto_now_add=True, help_text='创建时间', null=True, verbose_name='创建时间')),
                ('name', models.CharField(help_text='品牌名', max_length=30, verbose_name='品牌名')),
                ('desc', models.TextField(blank=True, default='', help_text='品牌描述', max_length=200, verbose_name='品牌描述')),
                ('default_image', models.CharField(blank=True, max_length=255, null=True, verbose_name='品牌logo')),
                ('sort', models.PositiveSmallIntegerField(default=0, verbose_name='排序')),
            ],
            options={
                'verbose_name': '商品品牌',
                'verbose_name_plural': '商品品牌',
                'db_table': 'tb_goods_brand',
                'ordering': ['-sort'],
            },
        ),
        migrations.CreateModel(
            name='GoodsCategory',
            fields=[
                ('id', models.CharField(default=utils.models.make_uuid, help_text='Id', max_length=100, primary_key=True, serialize=False, verbose_name='Id')),
                ('description', models.CharField(blank=True, help_text='描述', max_length=100, null=True, verbose_name='描述')),
                ('modifier', models.CharField(blank=True, help_text='修改人', max_length=100, null=True, verbose_name='修改人')),
                ('dept_belong_id', models.CharField(blank=True, help_text='数据归属部门', max_length=100, null=True, verbose_name='数据归属部门')),
                ('update_datetime', models.DateTimeField(auto_now=True, help_text='修改时间', null=True, verbose_name='修改时间')),
                ('create_datetime', models.DateTimeField(auto_now_add=True, help_text='创建时间', null=True, verbose_name='创建时间')),
                ('name', models.CharField(max_length=20, verbose_name='名称')),
                ('desc', models.CharField(blank=True, max_length=255, null=True, verbose_name='描述')),
                ('default_image', models.CharField(blank=True, max_length=255, null=True, verbose_name='默认图片')),
                ('sort', models.PositiveSmallIntegerField(default=0, help_text='显示顺序', verbose_name='排序')),
                ('status', models.BooleanField(default=True, help_text='商品类别状态', verbose_name='商品类别状态')),
                ('is_delete', models.BooleanField(default=False, help_text='是否逻辑删除', verbose_name='是否逻辑删除')),
                ('creator', models.ForeignKey(db_constraint=False, help_text='创建人', null=True, on_delete=django.db.models.deletion.SET_NULL, related_query_name='creator_query', to=settings.AUTH_USER_MODEL, verbose_name='创建人')),
                ('parent', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='goodscategorysubs', to='mall.goodscategory', verbose_name='父类别')),
            ],
            options={
                'verbose_name': '商品类别',
                'verbose_name_plural': '商品类别',
                'db_table': 'tb_goods_category',
            },
        ),
        migrations.CreateModel(
            name='OrderInfo',
            fields=[
                ('id', models.CharField(default=utils.models.make_uuid, help_text='Id', max_length=100, primary_key=True, serialize=False, verbose_name='Id')),
                ('description', models.CharField(blank=True, help_text='描述', max_length=100, null=True, verbose_name='描述')),
                ('modifier', models.CharField(blank=True, help_text='修改人', max_length=100, null=True, verbose_name='修改人')),
                ('dept_belong_id', models.CharField(blank=True, help_text='数据归属部门', max_length=100, null=True, verbose_name='数据归属部门')),
                ('update_datetime', models.DateTimeField(auto_now=True, help_text='修改时间', null=True, verbose_name='修改时间')),
                ('create_datetime', models.DateTimeField(auto_now_add=True, help_text='创建时间', null=True, verbose_name='创建时间')),
                ('order_id', models.CharField(max_length=64, unique=True, verbose_name='订单号')),
                ('trade_id', models.CharField(blank=True, max_length=100, null=True, unique=True, verbose_name='支付编号')),
                ('address_name', models.CharField(blank=True, max_length=50, null=True, verbose_name='收货人姓名')),
                ('address_mobile', models.CharField(blank=True, max_length=20, null=True, verbose_name='收货人手机号')),
                ('address_place', models.CharField(blank=True, max_length=100, null=True, verbose_name='收货详细地址')),
                ('couponrecord_id', models.CharField(blank=True, max_length=60, null=True, unique=True, verbose_name='用户优惠券id')),
                ('couponrecord_price', models.DecimalField(blank=True, decimal_places=2, default=0, max_digits=10, null=True, verbose_name='优惠券面值')),
                ('total_count', models.IntegerField(default=1, verbose_name='商品总数')),
                ('total_amount', models.DecimalField(decimal_places=2, default=0, max_digits=10, verbose_name='实付商品总金额')),
                ('total_amount_pay', models.DecimalField(decimal_places=2, default=0, max_digits=10, verbose_name='订单总金额')),
                ('freight', models.DecimalField(blank=True, decimal_places=2, default=0, max_digits=10, null=True, verbose_name='运费')),
                ('logistics_id', models.CharField(blank=True, max_length=100, null=True, verbose_name='物流单号')),
                ('send_time', models.DateTimeField(blank=True, help_text='发货时间', null=True, verbose_name='发货时间')),
                ('logistics_company', models.CharField(blank=True, max_length=90, null=True, verbose_name='物流公司')),
                ('pay_method', models.SmallIntegerField(choices=[(0, ''), (1, '货到付款'), (2, '微信'), (3, '支付宝')], default=0, verbose_name='支付方式')),
                ('pay_time', models.CharField(blank=True, help_text='支付时间', max_length=64, null=True, verbose_name='支付时间')),
                ('remark', models.CharField(blank=True, max_length=100, null=True, verbose_name='订单备注')),
                ('cancel_reason', models.CharField(blank=True, max_length=100, null=True, verbose_name='订单取消原因')),
                ('status', models.SmallIntegerField(choices=[(1, '待支付'), (2, '待发货'), (3, '待收货'), (4, '待评价'), (5, '已完成'), (6, '已取消')], default=1, verbose_name='订单状态')),
                ('pay_status', models.SmallIntegerField(choices=[(0, '待支付'), (1, '已支付'), (2, '退款中'), (3, '退款失败'), (4, '已退款')], default=0, verbose_name='支付状态')),
                ('is_delete', models.BooleanField(default=False, help_text='是否逻辑删除', verbose_name='是否逻辑删除')),
                ('creator', models.ForeignKey(db_constraint=False, help_text='创建人', null=True, on_delete=django.db.models.deletion.SET_NULL, related_query_name='creator_query', to=settings.AUTH_USER_MODEL, verbose_name='创建人')),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='createorderuser1', to=settings.AUTH_USER_MODEL, verbose_name='下单用户')),
            ],
            options={
                'verbose_name': '订单基本信息',
                'verbose_name_plural': '订单基本信息',
                'db_table': 'tb_mall_order_info',
            },
        ),
        migrations.CreateModel(
            name='SKU',
            fields=[
                ('id', models.CharField(default=utils.models.make_uuid, help_text='Id', max_length=100, primary_key=True, serialize=False, verbose_name='Id')),
                ('description', models.CharField(blank=True, help_text='描述', max_length=100, null=True, verbose_name='描述')),
                ('modifier', models.CharField(blank=True, help_text='修改人', max_length=100, null=True, verbose_name='修改人')),
                ('dept_belong_id', models.CharField(blank=True, help_text='数据归属部门', max_length=100, null=True, verbose_name='数据归属部门')),
                ('update_datetime', models.DateTimeField(auto_now=True, help_text='修改时间', null=True, verbose_name='修改时间')),
                ('create_datetime', models.DateTimeField(auto_now_add=True, help_text='创建时间', null=True, verbose_name='创建时间')),
                ('name', models.CharField(blank=True, max_length=60, null=True, verbose_name='标题')),
                ('price', models.DecimalField(decimal_places=2, max_digits=10, verbose_name='商品单价')),
                ('shop_price', models.DecimalField(blank=True, decimal_places=2, default=0, max_digits=10, null=True, verbose_name='售价')),
                ('market_price', models.DecimalField(blank=True, decimal_places=2, default=0, max_digits=10, null=True, verbose_name='市场价')),
                ('cost_price', models.DecimalField(blank=True, decimal_places=2, default=0, max_digits=10, null=True, verbose_name='成本价')),
                ('stock', models.IntegerField(default=0, verbose_name='商品库存')),
                ('unite', models.CharField(blank=True, max_length=20, null=True, verbose_name='商品单位')),
                ('sales', models.IntegerField(blank=True, default=0, null=True, verbose_name='商品销量')),
                ('default_image', models.CharField(blank=True, max_length=255, null=True, verbose_name='默认图片')),
                ('is_launched', models.BooleanField(default=True, verbose_name='是否上架销售')),
                ('is_delete', models.BooleanField(default=False, help_text='是否逻辑删除', verbose_name='是否逻辑删除')),
                ('creator', models.ForeignKey(db_constraint=False, help_text='创建人', null=True, on_delete=django.db.models.deletion.SET_NULL, related_query_name='creator_query', to=settings.AUTH_USER_MODEL, verbose_name='创建人')),
            ],
            options={
                'verbose_name': '商品SKU',
                'verbose_name_plural': '商品SKU',
                'db_table': 'tb_goods_sku',
            },
        ),
        migrations.CreateModel(
            name='SPU',
            fields=[
                ('id', models.CharField(default=utils.models.make_uuid, help_text='Id', max_length=100, primary_key=True, serialize=False, verbose_name='Id')),
                ('description', models.CharField(blank=True, help_text='描述', max_length=100, null=True, verbose_name='描述')),
                ('modifier', models.CharField(blank=True, help_text='修改人', max_length=100, null=True, verbose_name='修改人')),
                ('dept_belong_id', models.CharField(blank=True, help_text='数据归属部门', max_length=100, null=True, verbose_name='数据归属部门')),
                ('update_datetime', models.DateTimeField(auto_now=True, help_text='修改时间', null=True, verbose_name='修改时间')),
                ('create_datetime', models.DateTimeField(auto_now_add=True, help_text='创建时间', null=True, verbose_name='创建时间')),
                ('name', models.CharField(max_length=60, verbose_name='标题')),
                ('sub_name', models.CharField(blank=True, default='', max_length=60, null=True, verbose_name='副标题')),
                ('spec_type', models.PositiveIntegerField(choices=[(0, '单规格'), (1, '多规格')], default=0, verbose_name='规格类型')),
                ('default_image', models.CharField(blank=True, max_length=255, null=True, verbose_name='商品主图')),
                ('image_list', models.CharField(blank=True, max_length=2000, null=True, verbose_name='商品轮播图')),
                ('price', models.DecimalField(decimal_places=2, default=0, max_digits=10, verbose_name='售价')),
                ('sales', models.IntegerField(default=0, verbose_name='销量')),
                ('stock', models.IntegerField(default=0, verbose_name='库存')),
                ('unit', models.CharField(blank=True, default='', max_length=30, null=True, verbose_name='商品单位')),
                ('comments', models.IntegerField(blank=True, default=0, null=True, verbose_name='评论量')),
                ('desc_detail', models.TextField(blank=True, default='', null=True, verbose_name='详细介绍')),
                ('desc_pack', models.TextField(blank=True, default='', null=True, verbose_name='包装信息')),
                ('desc_service', models.TextField(blank=True, default='', null=True, verbose_name='售后服务')),
                ('is_launched', models.BooleanField(default=True, verbose_name='是否上架销售')),
                ('is_tuijian', models.BooleanField(default=False, verbose_name='是否推荐')),
                ('sort', models.PositiveSmallIntegerField(default=0, verbose_name='排序')),
                ('is_delete', models.BooleanField(default=False, help_text='是否逻辑删除', verbose_name='是否逻辑删除')),
                ('brand', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, related_name='brands', to='mall.goodsbrand', verbose_name='品牌')),
                ('category1', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='cat1_spu', to='mall.goodscategory', verbose_name='一级类别')),
                ('creator', models.ForeignKey(db_constraint=False, help_text='创建人', null=True, on_delete=django.db.models.deletion.SET_NULL, related_query_name='creator_query', to=settings.AUTH_USER_MODEL, verbose_name='创建人')),
            ],
            options={
                'verbose_name': '商品SPU',
                'verbose_name_plural': '商品SPU',
                'db_table': 'tb_goods_spu',
            },
        ),
        migrations.CreateModel(
            name='SPUSpecification',
            fields=[
                ('id', models.CharField(default=utils.models.make_uuid, help_text='Id', max_length=100, primary_key=True, serialize=False, verbose_name='Id')),
                ('description', models.CharField(blank=True, help_text='描述', max_length=100, null=True, verbose_name='描述')),
                ('modifier', models.CharField(blank=True, help_text='修改人', max_length=100, null=True, verbose_name='修改人')),
                ('dept_belong_id', models.CharField(blank=True, help_text='数据归属部门', max_length=100, null=True, verbose_name='数据归属部门')),
                ('update_datetime', models.DateTimeField(auto_now=True, help_text='修改时间', null=True, verbose_name='修改时间')),
                ('create_datetime', models.DateTimeField(auto_now_add=True, help_text='创建时间', null=True, verbose_name='创建时间')),
                ('name', models.CharField(max_length=20, verbose_name='规格名称')),
                ('creator', models.ForeignKey(db_constraint=False, help_text='创建人', null=True, on_delete=django.db.models.deletion.SET_NULL, related_query_name='creator_query', to=settings.AUTH_USER_MODEL, verbose_name='创建人')),
                ('spu', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='spu_specs', to='mall.spu', verbose_name='商品SPU')),
            ],
            options={
                'verbose_name': '商品SPU规格',
                'verbose_name_plural': '商品SPU规格',
                'db_table': 'tb_goods_spu_specification',
            },
        ),
        migrations.CreateModel(
            name='SPUSpecificationOption',
            fields=[
                ('id', models.CharField(default=utils.models.make_uuid, help_text='Id', max_length=100, primary_key=True, serialize=False, verbose_name='Id')),
                ('description', models.CharField(blank=True, help_text='描述', max_length=100, null=True, verbose_name='描述')),
                ('modifier', models.CharField(blank=True, help_text='修改人', max_length=100, null=True, verbose_name='修改人')),
                ('dept_belong_id', models.CharField(blank=True, help_text='数据归属部门', max_length=100, null=True, verbose_name='数据归属部门')),
                ('update_datetime', models.DateTimeField(auto_now=True, help_text='修改时间', null=True, verbose_name='修改时间')),
                ('create_datetime', models.DateTimeField(auto_now_add=True, help_text='创建时间', null=True, verbose_name='创建时间')),
                ('value', models.CharField(max_length=20, verbose_name='选项值')),
                ('creator', models.ForeignKey(db_constraint=False, help_text='创建人', null=True, on_delete=django.db.models.deletion.SET_NULL, related_query_name='creator_query', to=settings.AUTH_USER_MODEL, verbose_name='创建人')),
                ('spec', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='options', to='mall.spuspecification', verbose_name='规格')),
            ],
            options={
                'verbose_name': '规格选项',
                'verbose_name_plural': '规格选项',
                'db_table': 'tb_goods_spu_specification_option',
            },
        ),
        migrations.CreateModel(
            name='SKUSpecification',
            fields=[
                ('id', models.CharField(default=utils.models.make_uuid, help_text='Id', max_length=100, primary_key=True, serialize=False, verbose_name='Id')),
                ('description', models.CharField(blank=True, help_text='描述', max_length=100, null=True, verbose_name='描述')),
                ('modifier', models.CharField(blank=True, help_text='修改人', max_length=100, null=True, verbose_name='修改人')),
                ('dept_belong_id', models.CharField(blank=True, help_text='数据归属部门', max_length=100, null=True, verbose_name='数据归属部门')),
                ('update_datetime', models.DateTimeField(auto_now=True, help_text='修改时间', null=True, verbose_name='修改时间')),
                ('create_datetime', models.DateTimeField(auto_now_add=True, help_text='创建时间', null=True, verbose_name='创建时间')),
                ('creator', models.ForeignKey(db_constraint=False, help_text='创建人', null=True, on_delete=django.db.models.deletion.SET_NULL, related_query_name='creator_query', to=settings.AUTH_USER_MODEL, verbose_name='创建人')),
                ('option', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='mall.spuspecificationoption', verbose_name='规格值')),
                ('sku', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='specs', to='mall.sku', verbose_name='sku')),
                ('spec', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='mall.spuspecification', verbose_name='规格名称')),
            ],
            options={
                'verbose_name': 'SKU规格',
                'verbose_name_plural': 'SKU规格',
                'db_table': 'tb_goods_sku_specification',
            },
        ),
        migrations.CreateModel(
            name='SKUImage',
            fields=[
                ('id', models.CharField(default=utils.models.make_uuid, help_text='Id', max_length=100, primary_key=True, serialize=False, verbose_name='Id')),
                ('description', models.CharField(blank=True, help_text='描述', max_length=100, null=True, verbose_name='描述')),
                ('modifier', models.CharField(blank=True, help_text='修改人', max_length=100, null=True, verbose_name='修改人')),
                ('dept_belong_id', models.CharField(blank=True, help_text='数据归属部门', max_length=100, null=True, verbose_name='数据归属部门')),
                ('update_datetime', models.DateTimeField(auto_now=True, help_text='修改时间', null=True, verbose_name='修改时间')),
                ('create_datetime', models.DateTimeField(auto_now_add=True, help_text='创建时间', null=True, verbose_name='创建时间')),
                ('image', models.CharField(max_length=255, verbose_name='图片')),
                ('sort', models.PositiveSmallIntegerField(default=0, verbose_name='排序')),
                ('creator', models.ForeignKey(db_constraint=False, help_text='创建人', null=True, on_delete=django.db.models.deletion.SET_NULL, related_query_name='creator_query', to=settings.AUTH_USER_MODEL, verbose_name='创建人')),
                ('sku', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='goods_imagelist', to='mall.sku', verbose_name='商品sku')),
            ],
            options={
                'verbose_name': 'SKU图片',
                'verbose_name_plural': 'SKU图片',
                'db_table': 'tb_goods_sku_image',
                'ordering': ['sort'],
            },
        ),
        migrations.AddField(
            model_name='sku',
            name='spu',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='skus', to='mall.spu', verbose_name='商品SPU'),
        ),
        migrations.CreateModel(
            name='OrderRefunds',
            fields=[
                ('id', models.CharField(default=utils.models.make_uuid, help_text='Id', max_length=100, primary_key=True, serialize=False, verbose_name='Id')),
                ('description', models.CharField(blank=True, help_text='描述', max_length=100, null=True, verbose_name='描述')),
                ('modifier', models.CharField(blank=True, help_text='修改人', max_length=100, null=True, verbose_name='修改人')),
                ('dept_belong_id', models.CharField(blank=True, help_text='数据归属部门', max_length=100, null=True, verbose_name='数据归属部门')),
                ('update_datetime', models.DateTimeField(auto_now=True, help_text='修改时间', null=True, verbose_name='修改时间')),
                ('create_datetime', models.DateTimeField(auto_now_add=True, help_text='创建时间', null=True, verbose_name='创建时间')),
                ('order_no', models.CharField(max_length=64, unique=True, verbose_name='订单号')),
                ('refund_id', models.CharField(max_length=64, unique=True, verbose_name='退款单号')),
                ('amount', models.DecimalField(decimal_places=2, max_digits=10, verbose_name='退款金额')),
                ('reason', models.CharField(blank=True, max_length=64, null=True, verbose_name='退款失败原因')),
                ('status', models.SmallIntegerField(choices=[(0, '待支付'), (1, '已支付'), (2, '退款中'), (3, '退款失败'), (4, '已退款')], default=2, verbose_name='退款状态')),
                ('creator', models.ForeignKey(db_constraint=False, help_text='创建人', null=True, on_delete=django.db.models.deletion.SET_NULL, related_query_name='creator_query', to=settings.AUTH_USER_MODEL, verbose_name='创建人')),
                ('order', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='orderrefunds', to='mall.orderinfo', verbose_name='要退款的订单')),
            ],
            options={
                'verbose_name': '商城订单退款',
                'verbose_name_plural': '商城订单退款',
                'db_table': 'tb_mall_order_refunds',
            },
        ),
        migrations.CreateModel(
            name='OrderGoods',
            fields=[
                ('id', models.CharField(default=utils.models.make_uuid, help_text='Id', max_length=100, primary_key=True, serialize=False, verbose_name='Id')),
                ('description', models.CharField(blank=True, help_text='描述', max_length=100, null=True, verbose_name='描述')),
                ('modifier', models.CharField(blank=True, help_text='修改人', max_length=100, null=True, verbose_name='修改人')),
                ('dept_belong_id', models.CharField(blank=True, help_text='数据归属部门', max_length=100, null=True, verbose_name='数据归属部门')),
                ('update_datetime', models.DateTimeField(auto_now=True, help_text='修改时间', null=True, verbose_name='修改时间')),
                ('create_datetime', models.DateTimeField(auto_now_add=True, help_text='创建时间', null=True, verbose_name='创建时间')),
                ('count', models.IntegerField(default=1, verbose_name='数量')),
                ('price', models.DecimalField(decimal_places=2, max_digits=10, verbose_name='sku单价')),
                ('comment', models.TextField(blank=True, null=True, verbose_name='评价信息')),
                ('score', models.SmallIntegerField(choices=[(0, '0分'), (1, '20分'), (2, '40分'), (3, '60分'), (4, '80分'), (5, '100分')], default=5, verbose_name='满意度评分')),
                ('is_anonymous', models.BooleanField(default=False, verbose_name='是否匿名评价')),
                ('is_commented', models.BooleanField(default=False, verbose_name='是否评价了')),
                ('creator', models.ForeignKey(db_constraint=False, help_text='创建人', null=True, on_delete=django.db.models.deletion.SET_NULL, related_query_name='creator_query', to=settings.AUTH_USER_MODEL, verbose_name='创建人')),
                ('order', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='ordergoodsskus', to='mall.orderinfo', verbose_name='订单')),
                ('sku', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, to='mall.sku', verbose_name='订单规格')),
                ('spu', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, to='mall.spu', verbose_name='订单商品')),
            ],
            options={
                'verbose_name': '订单商品',
                'verbose_name_plural': '订单商品',
                'db_table': 'tb_mall_order_goods',
            },
        ),
        migrations.CreateModel(
            name='GoodsSpecTemplate',
            fields=[
                ('id', models.CharField(default=utils.models.make_uuid, help_text='Id', max_length=100, primary_key=True, serialize=False, verbose_name='Id')),
                ('description', models.CharField(blank=True, help_text='描述', max_length=100, null=True, verbose_name='描述')),
                ('modifier', models.CharField(blank=True, help_text='修改人', max_length=100, null=True, verbose_name='修改人')),
                ('dept_belong_id', models.CharField(blank=True, help_text='数据归属部门', max_length=100, null=True, verbose_name='数据归属部门')),
                ('update_datetime', models.DateTimeField(auto_now=True, help_text='修改时间', null=True, verbose_name='修改时间')),
                ('create_datetime', models.DateTimeField(auto_now_add=True, help_text='创建时间', null=True, verbose_name='创建时间')),
                ('spec', models.CharField(max_length=100, verbose_name='规格名称')),
                ('option', models.CharField(max_length=255, verbose_name='规格值')),
                ('creator', models.ForeignKey(db_constraint=False, help_text='创建人', null=True, on_delete=django.db.models.deletion.SET_NULL, related_query_name='creator_query', to=settings.AUTH_USER_MODEL, verbose_name='创建人')),
            ],
            options={
                'verbose_name': '商品规格模板',
                'verbose_name_plural': '商品规格模板',
                'db_table': 'tb_goods_spec_template',
            },
        ),
        migrations.CreateModel(
            name='GoodsCoupon',
            fields=[
                ('id', models.CharField(default=utils.models.make_uuid, help_text='Id', max_length=100, primary_key=True, serialize=False, verbose_name='Id')),
                ('description', models.CharField(blank=True, help_text='描述', max_length=100, null=True, verbose_name='描述')),
                ('modifier', models.CharField(blank=True, help_text='修改人', max_length=100, null=True, verbose_name='修改人')),
                ('dept_belong_id', models.CharField(blank=True, help_text='数据归属部门', max_length=100, null=True, verbose_name='数据归属部门')),
                ('update_datetime', models.DateTimeField(auto_now=True, help_text='修改时间', null=True, verbose_name='修改时间')),
                ('create_datetime', models.DateTimeField(auto_now_add=True, help_text='创建时间', null=True, verbose_name='创建时间')),
                ('name', models.CharField(max_length=50, verbose_name='优惠券名称')),
                ('caption', models.CharField(blank=True, max_length=256, null=True, verbose_name='优惠券副标题')),
                ('desc', models.CharField(blank=True, max_length=150, null=True, verbose_name='描述')),
                ('sort', models.IntegerField(default=0, help_text='显示顺序', verbose_name='排序')),
                ('total_num', models.IntegerField(default=0, help_text='优惠券总数量', verbose_name='优惠券总数量')),
                ('received_num', models.IntegerField(default=0, help_text='优惠券已领取数量', verbose_name='优惠券已领取数量')),
                ('used_num', models.IntegerField(default=0, help_text='已被使用的数量', verbose_name='已被使用的数量')),
                ('is_permanent', models.BooleanField(default=True, help_text='是否无限张数', verbose_name='是否无限张数')),
                ('price', models.DecimalField(decimal_places=2, default=0, max_digits=10, verbose_name='优惠券面值')),
                ('is_condition', models.BooleanField(default=False, help_text='有无门槛', verbose_name='有无门槛')),
                ('use_min_price', models.DecimalField(decimal_places=2, default=0, max_digits=10, verbose_name='最低消费多少金额可用优惠券')),
                ('start_time', models.DateField(blank=True, help_text='优惠券领取开启时间', null=True, verbose_name='优惠券领取开启时间')),
                ('end_time', models.DateField(blank=True, help_text='优惠券领取结束时间', null=True, verbose_name='优惠券领取结束时间')),
                ('valid_begin_date', models.DateField(blank=True, null=True, verbose_name='有效期开始时间')),
                ('valid_end_date', models.DateField(blank=True, null=True, verbose_name='有效结束时间')),
                ('coupon_expiretime', models.IntegerField(default=0, help_text='优惠券有效期限（单位：天）', verbose_name='优惠券有效期限（单位：天）')),
                ('receive_type', models.SmallIntegerField(choices=[(0, ''), (1, '手动领取'), (2, '新人劵'), (3, '后台发放'), (4, '邀请劵')], default=0, help_text='优惠券发送方式', verbose_name='优惠券发送方式')),
                ('coupon_type', models.SmallIntegerField(choices=[(0, '通用券'), (1, '商城类通用券'), (2, '服务类通用券')], default=0, help_text='优惠券类型（2）', verbose_name='优惠券类型（2）')),
                ('is_delete', models.BooleanField(default=False, help_text='是否逻辑删除', verbose_name='是否逻辑删除')),
                ('status', models.BooleanField(default=True, help_text='状态', verbose_name='状态')),
                ('creator', models.ForeignKey(db_constraint=False, help_text='创建人', null=True, on_delete=django.db.models.deletion.SET_NULL, related_query_name='creator_query', to=settings.AUTH_USER_MODEL, verbose_name='创建人')),
            ],
            options={
                'verbose_name': '商品优惠券',
                'verbose_name_plural': '商品优惠券',
                'db_table': 'tb_goods_coupon',
            },
        ),
        migrations.AddField(
            model_name='goodsbrand',
            name='category',
            field=models.ForeignKey(help_text='所属分类', on_delete=django.db.models.deletion.CASCADE, related_name='brands', to='mall.goodscategory', verbose_name='所属分类'),
        ),
        migrations.AddField(
            model_name='goodsbrand',
            name='creator',
            field=models.ForeignKey(db_constraint=False, help_text='创建人', null=True, on_delete=django.db.models.deletion.SET_NULL, related_query_name='creator_query', to=settings.AUTH_USER_MODEL, verbose_name='创建人'),
        ),
        migrations.CreateModel(
            name='CouponRecord',
            fields=[
                ('id', models.CharField(default=utils.models.make_uuid, help_text='Id', max_length=100, primary_key=True, serialize=False, verbose_name='Id')),
                ('description', models.CharField(blank=True, help_text='描述', max_length=100, null=True, verbose_name='描述')),
                ('modifier', models.CharField(blank=True, help_text='修改人', max_length=100, null=True, verbose_name='修改人')),
                ('dept_belong_id', models.CharField(blank=True, help_text='数据归属部门', max_length=100, null=True, verbose_name='数据归属部门')),
                ('update_datetime', models.DateTimeField(auto_now=True, help_text='修改时间', null=True, verbose_name='修改时间')),
                ('create_datetime', models.DateTimeField(auto_now_add=True, help_text='创建时间', null=True, verbose_name='创建时间')),
                ('number', models.CharField(blank=True, max_length=64, null=True, verbose_name='用来计数')),
                ('status', models.SmallIntegerField(choices=[(0, '未领取'), (1, '未使用'), (2, '已使用'), (3, '已过期'), (4, '已撤回')], default=0)),
                ('used_time', models.DateTimeField(blank=True, null=True, verbose_name='使用时间')),
                ('receive_time', models.DateTimeField(blank=True, null=True, verbose_name='领取时间')),
                ('is_delete', models.BooleanField(default=False, help_text='是否逻辑删除', verbose_name='是否逻辑删除')),
                ('coupon', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='mall.goodscoupon', verbose_name='关联优惠券')),
                ('creator', models.ForeignKey(db_constraint=False, help_text='创建人', null=True, on_delete=django.db.models.deletion.SET_NULL, related_query_name='creator_query', to=settings.AUTH_USER_MODEL, verbose_name='创建人')),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='couponuser1', to=settings.AUTH_USER_MODEL, verbose_name='拥有者')),
            ],
            options={
                'verbose_name': '用户持券表',
                'verbose_name_plural': '用户持券表',
                'db_table': 'tb_goods_coupon_record',
            },
        ),
    ]
